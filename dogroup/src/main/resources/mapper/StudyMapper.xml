<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.dogroup.mybatis.StudyMapper">
	<resultMap id="studyResultMap" type="StudyDTO">
		<id property="studyId" column="study_id"/>
		<result property="studyTitle" column="study_title"/>
		<result property="studySize" column="study_size"/>
		<result property="studyFee" column="study_fee"/>
		<result property="studyCertification" column="study_certification"/>
		<result property="studyDiligenceCutline" column="study_diligence_cutline"/>
		<result property="studyPostDate" column="study_post_date"/>
		<result property="studyStartDate" column="study_start_date"/>
		<result property="studyEndDate" column="study_end_date"/>
		<result property="studyHomeworkPerWeek" column="study_homework_per_week"/>
		<result property="studyPaid" column="study_paid"/>
		<result property="studyGatheredSize" column="study_gathered_size"/>
		<result property="studyContent" column="study_content"/>
		<!--스터디장-->
		<association property="studyLeader" javaType="UserDTO">
			<result property="email" column="user_email"/>
			<result property="name" column="user_name"/>
		</association>
		<!--과목 리스트-->
		<collection property="subjects" ofType="StudySubjectDTO">
			<result property="studyId" column="study_id"/>
			<!--과목-->
			<association property="subject" javaType="SubjectDTO">
				<result property="subjectCode" column="subject_code"/>
				<result property="subjectName" column="subject_name"/>
				<!--부모과목-->
				<association property="subjectParent" javaType="SubjectDTO">
					<result property="subjectCode" column="subject_parent_code"/>
				</association>
			</association>
		</collection>
		<!--스터디원 리스트-->
		<collection property="studyUsers" ofType="StudyUserDTO">
			<result property="studyId" column="study_id"/>
			<!--숙제 리스트-->
			<collection property="homeworkList" ofType="HomeworkDTO">
				<result property="studyId" column="study_id"/>
				<result property="userEmail" column="user_email"/>
				<result property="studySubmitDt" column="study_submit_dt"/>
			</collection>
		</collection>
	</resultMap>
</mapper>